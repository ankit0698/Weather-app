{"ast":null,"code":"import _regeneratorRuntime from\"/Users/AN20382393/Downloads/Weather-app-demo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/AN20382393/Downloads/Weather-app-demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/AN20382393/Downloads/Weather-app-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import searchIcon from\"./search.svg\";import WeatherData from\"./WeatherData\";import linkIcon from\"./external-link.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){var inputValue=useRef();var _useState=useState(\"Delhi\"),_useState2=_slicedToArray(_useState,2),cityName=_useState2[0],setCityName=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),lang=_useState6[0],setLang=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),myData=_useState8[0],setMyData=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),cityDetails=_useState10[0],setCityDetails=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),dataWeather=_useState12[0],setDataWeather=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),windData=_useState14[0],setWindData=_useState14[1];var APP_KEY=\"0ded596d49e3f9e9c0410c1beab1ab74\";useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://api.openweathermap.org/data/2.5/forecast?q=\".concat(cityName,\"&APPID=\").concat(APP_KEY,\"&units=metric&lang=\").concat(lang?\"en\":\"hi\"));case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;if(response.ok){setCityDetails(data.city);setMyData(data.list[0].main);setDataWeather(data.list[0].weather[0]);setWindData(data.list[0].wind);setError(true);}else{setError(false);}case 7:case\"end\":return _context.stop();}}},_callee);}))();},[cityName,lang]);var onkeydownHandler=function onkeydownHandler(e){if(e.key===\"Enter\"){e.preventDefault();setCityName(inputValue.current.value);}};var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();setCityName(inputValue.current.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cityName\",children:[error?/*#__PURE__*/_jsxs(\"p\",{children:[cityDetails.name,\", \",cityDetails.country,/*#__PURE__*/_jsx(\"a\",{href:\"https://en.wikipedia.org/wiki/\".concat(cityDetails.name),target:\"_ \",children:/*#__PURE__*/_jsx(\"img\",{src:linkIcon,alt:\"link\"})})]}):/*#__PURE__*/_jsx(\"p\",{className:\"invalid\",children:lang?\"Invalid City Name\":\"अमान्य शहर का नाम\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:inputValue,onKeyDown:onkeydownHandler,placeholder:\"City Name\"}),/*#__PURE__*/_jsx(\"img\",{style:{cursor:\"pointer\"},onClick:onSubmitHandler,src:searchIcon,alt:\"searchIcon\"})]})]}),/*#__PURE__*/_jsx(WeatherData,{weatherData:myData,weather:dataWeather,city:cityDetails,lang:lang,windData:windData}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return setLang(!lang);},className:\"translater\",children:lang?\"Hindi ?\":\"Eng ?\"})]});};export default Main;","map":{"version":3,"names":["React","useEffect","useRef","useState","searchIcon","WeatherData","linkIcon","Main","inputValue","cityName","setCityName","error","setError","lang","setLang","myData","setMyData","cityDetails","setCityDetails","dataWeather","setDataWeather","windData","setWindData","APP_KEY","fetch","response","json","data","ok","city","list","main","weather","wind","onkeydownHandler","e","key","preventDefault","current","value","onSubmitHandler","name","country","cursor"],"sources":["/Users/AN20382393/Downloads/Weather-app-demo/src/components/Main.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport searchIcon from \"./search.svg\";\r\nimport WeatherData from \"./WeatherData\";\r\nimport linkIcon from \"./external-link.svg\";\r\nconst Main = () => {\r\n  const inputValue = useRef();\r\n  const [cityName, setCityName] = useState(\"Delhi\");\r\n  const [error, setError] = useState(true);\r\n  const [lang, setLang] = useState(true);\r\n  const [myData, setMyData] = useState([]);\r\n  const [cityDetails, setCityDetails] = useState([]);\r\n  const [dataWeather, setDataWeather] = useState([]);\r\n  const [windData, setWindData] = useState([]);\r\n  const APP_KEY = \"0ded596d49e3f9e9c0410c1beab1ab74\";\r\n  useEffect(() => {\r\n    (async () => {\r\n      const response = await fetch(\r\n        `https://api.openweathermap.org/data/2.5/forecast?q=${cityName}&APPID=${APP_KEY}&units=metric&lang=${\r\n          lang ? \"en\" : \"hi\"\r\n        }`\r\n      );\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setCityDetails(data.city);\r\n        setMyData(data.list[0].main);\r\n        setDataWeather(data.list[0].weather[0]);\r\n        setWindData(data.list[0].wind);\r\n        setError(true);\r\n      } else {\r\n        setError(false);\r\n      }\r\n    })();\r\n  }, [cityName, lang]);\r\n\r\n  const onkeydownHandler = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      setCityName(inputValue.current.value);\r\n    }\r\n  };\r\n  const onSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    setCityName(inputValue.current.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"box\">\r\n      <div className=\"cityName\">\r\n        {error ? (\r\n          <p>\r\n            {cityDetails.name}, {cityDetails.country}\r\n            <a\r\n              href={`https://en.wikipedia.org/wiki/${cityDetails.name}`}\r\n              target=\"_ \"\r\n            >\r\n              <img src={linkIcon} alt=\"link\" />\r\n            </a>\r\n          </p>\r\n        ) : (\r\n          <p className=\"invalid\">\r\n            {lang ? \"Invalid City Name\" : \"अमान्य शहर का नाम\"}\r\n          </p>\r\n        )}\r\n        <div className=\"search\">\r\n          <input\r\n            type=\"text\"\r\n            ref={inputValue}\r\n            onKeyDown={onkeydownHandler}\r\n            placeholder=\"City Name\"\r\n          />\r\n          <img\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={onSubmitHandler}\r\n            src={searchIcon}\r\n            alt=\"searchIcon\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <WeatherData\r\n        weatherData={myData}\r\n        weather={dataWeather}\r\n        city={cityDetails}\r\n        lang={lang}\r\n        windData={windData}\r\n      />\r\n      <p onClick={() => setLang(!lang)} className=\"translater\">\r\n        {lang ? \"Hindi ?\" : \"Eng ?\"}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}